<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/css/plantilla.css">
    <link rel="stylesheet" href="./assets/css/mi-muro.css">
    <title>Perfil de Usuario</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: system-ui, -apple-system, sans-serif;
        }

        body {
            background-color: #f5f5f5;
        }

        .sidebar {
            display: none;
        }
        .sidebar-toggle{
            display: none;
        }
        .page-container {
            grid-template-areas:
            "header header"
            "main main";
        }
    </style>
</head>
<body>
    <div class="back-none" id="back-none"></div>
    <div class="page-container">
        <!-- Header -->
        <header class="header">
            <div class="header-front">
                <div class="logo-sena">
                    <a href="Inicio.html"><img src="./assets/img/logo-sena.png" alt="Logo-sena"></a>
                </div>
                <div class="search-container">
                    <input type="text" class="search-input" placeholder="Buscar">
                    <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"/>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"/>
                    </svg>
                </div>
                
                <div class="notifications" id="notifications">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"/>
                    </svg>
                    <div class="notification-dot"></div>
                    <div class="notificacion-bar" id="notificacion-bar"></div>
                </div>
    
                <div class="user-profile" id="user-name">
                    <span class="user-name" >Alejandro</span>
                    <div class="profile-picture">
                        <img class="foto-perfil" src="./assets/img/foto-perfil.png" alt="">
                        <div class="user-opc" id="user-opc">
                            <a href="Mi-muro.html"><button class="user-opc-b">Mi muro</button></a>
                            <a href="#"><button class="user-opc-b">Configuracion</button></a>
                            <a href="#"><button class="user-opc-sesion">Cerrar cesion</button></a>
                        </div>
                    </div>
                    
                </div>
                
            </div>
            
        </header>


        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <nav>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="#"><button class="button-sidebar">Inicio</button></a>
                    </li>
                    <li class="nav-item">
                        <a href="#"><button class="button-sidebar">Amigos</button></a>
                    </li>
                    <li class="nav-item">
                        <a href="#"><button class="button-sidebar">Encuestas</button></a>
                    </li>
                    <li class="nav-item">
                        <a href="#"><button class="button-sidebar">Mentorias</button></a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="all-post">
                <div class="profile-container-m">
                    <div class="banner-m">
                        <div class="profile-picture-m">
                            <img src="./assets/img/foto-perfil.png" alt="Foto de perfil">
                        </div>
                    </div>
                    <div class="profile-info-m">
                        <div class="profile-header-m">
                            <div class="name-section-m">
                                <h1 class="name-m">Omar Alejandro Galvis Espitia</h1>
                                <p class="role-m">Aprendiz - Etapa Electiva</p>
                            </div>
                            <a href="#" class="edit-button-m">
                                Editar mi información
                                <svg class="edit-icon-m" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                                </svg>
                            </a>
                        </div>
                        <div class="profile-details-m">
                            <p>ADSO- 2847293</p>
                            <p>Quebrajacho - Fusagasugá</p>
                            <p>Edad 21 años</p>
                        </div>
                        <a href="#" class="view-profile-m">Ver perfil completo</a>
                    </div>
                </div>
                <button class="create-post-button" id="create-post-button">Crear una Publicacion</button>

            <div class="contenedor-publicacion">
                <div class="publicacion-header">
                    <div class="profile-picture">
                        <img src="./assets/img/foto-perfil.png" alt="foto de perfil">
                    </div>
                    <div class="user-info">
                        <div class="Nombre-usuario">Sena oficial</div>
                        <div class="fecha-publicacion">Fecha de la publicacion</div>
                    </div>
                </div>
                <div class="contenedor-publicacion2">
                    <div class="contenedor-publicacion3">
                        <p> Expo Empleo SENA Joven’: 20 mil oportunidades laborales para la juventud del país</p>
                        <img src="./assets/img/publicacion.png" alt="publicacion img" class="publicacion-img">
                    </div>
                </div>
                <div class="publicacion-buttons">
                    <div class="button-container">
                        <p class="button-text">No Me gusta</p>
                        <button>Me gusta</button>
                    </div>
                    <div class="button-container">
                        <p class="button-text">No comentarios</p>
                        <button>Comentarios</button>
                    </div>
                    <div class="button-container">
                        <p class="button-text">No compartidos</p>
                        <button>Compartir</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <div class="back-dark" id="back-dark">
        <!--modal de crear una publicacion-->
        <div class="create-post" id="create-post">
            <h2>Nueva publicacion</h2>
            <br>
            <form action="#">
                <div>
                    <input type="file" name="fileInput" id="fileInput" class="input-file" multiple>
                    <label for="fileInput" class="file-label">Adjuntar archivo</label>
                    <button class="button-modal-create">Ubicacion</button>
                    <button class="button-modal-create">Mencionar amigo</button>
                </div>
                <br>
                <div class="ubicacion-container">
                    <img src="./assets/img/Ubicacion.png" alt="">
                    <input class="input-ubicacion" type="text" name="" id="input-ubicacion" placeholder="...">
                </div>
                <div class="create-container">
                    <textarea class="text-post" name="" id="text-post" placeholder="Escribe aqui..." maxlength="1000"></textarea>
                    <!--Contenedor de la vista previa de imagenes-->
                    <div class="file-preview" id="filePreview"></div>
                </div>
                <br>
                <div class="button-left">
                    <button class="cancelar-button">Cancelar</button>
                    <button class="publicar-button">Publicar</button>
                </div>
            </form>
        </div>
    </div>
    
    <!--Vista previa-->
    <script>
        const fileInput = document.getElementById('fileInput');
        const filePreview = document.getElementById('filePreview');
        const fileMap = new Map(); // Mapa para almacenar archivos únicos

        fileInput.addEventListener('change', function () {
            const files = Array.from(fileInput.files);

            files.forEach(file => {
                if (!fileMap.has(file.name)) {
                    // Agregar archivo al mapa para evitar duplicados
                    fileMap.set(file.name, file);

                    // Crear elementos para la vista previa
                    const fileItem = document.createElement('div');
                    fileItem.classList.add('file-item');

                    const removeButton = document.createElement('button');
                    removeButton.classList.add('remove-btn');
                    removeButton.textContent = '×';

                    // Eliminar archivo de la vista previa y del mapa
                    removeButton.addEventListener('click', () => {
                        fileMap.delete(file.name); // Eliminar del mapa
                        fileItem.remove(); // Eliminar de la vista previa
                    });

                    const fileName = document.createElement('span');
                    fileName.classList.add('file-name');
                    fileName.textContent = file.name;

                    const fileType = document.createElement('span');
                    fileType.classList.add('file-type');
                    fileType.textContent = file.type || 'Tipo desconocido';

                    // Añadir elementos al contenedor
                    fileItem.appendChild(removeButton);
                    fileItem.appendChild(fileName);
                    fileItem.appendChild(fileType);

                    filePreview.appendChild(fileItem);
                }
            });

            // Resetear el input para permitir volver a seleccionar los mismos archivos
            fileInput.value = '';
        });
    </script>


    <script>
        const backDark = document.getElementById('back-dark');
        const createButton = document.getElementById('create-post-button');
        const createPost = document.getElementById('create-post');

        createButton.addEventListener('click', () => {
            backDark.style.display = 'block';
            createPost.style.display = 'block';
        })

        backDark.addEventListener('click', (e) => {
            if (backDark === e.target) {
                createPost.style.display = 'none';
                backDark.style.display = 'none';
            }
        })

    </script>
    <!--Barra del perfil de usuario-->
    <script>
        const userName = document.getElementById('user-name');
        const userOpc = document.getElementById('user-opc');
        const backNone = document.getElementById('back-none');

        userName.addEventListener('click', () =>{
            userOpc.style.display = 'block';
            backNone.style.display = 'block';
        });
        
        backNone.addEventListener('click',(e) => {
            if (e.target === backNone) {
                userOpc.style.display = 'none';
                backNone.style.display = 'none';
            }
        });

        const notiBar = document.getElementById('notificacion-bar');
        const notiButton = document.getElementById('notifications');

        notiButton.addEventListener('click', () => {
            notiBar.style.display = 'block';
            backNone.style.display = 'block';
        
        backNone.addEventListener('click', (e) => {
            if (backNone === e.target) {
                backNone.style.display = 'none';
                notiBar.style.display = 'none';
            }
        })
        })

    </script>

    <script>
        const sidebar = document.getElementById('sidebar');
        const sidebarToggle = document.getElementById('sidebarToggle');

        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.toggle('active');
        });

        // Cerrar el sidebar si se hace clic fuera de él
        document.addEventListener('click', (event) => {
            const isClickInsideSidebar = sidebar.contains(event.target);
            const isClickOnToggleButton = sidebarToggle.contains(event.target);

            if (!isClickInsideSidebar && !isClickOnToggleButton && sidebar.classList.contains('active')) {
                sidebar.classList.remove('active');
            }
        });

        // Función para manejar cambios en el tamaño de la ventana
        function handleResize() {
            if (window.innerWidth > 768) {
                sidebar.classList.remove('active');
            }
        }

        // Agregar listener para el evento resize
        window.addEventListener('resize', handleResize);

        // Llamar a handleResize inicialmente para establecer el estado correcto
        handleResize();
    </script>
</body>
</html>

